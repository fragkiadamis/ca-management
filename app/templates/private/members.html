{% extends "./main.html" %}
{% block title %}Profile{% endblock %}
{% block body %}
    <div class="container-fluid">
        <main class="p-5">
            <div class="content-title table-title clearfix">
                <h2 class="float-start">Members <b>Management</b></h2>
                <div class="float-end d-flex align-items-center mt-1">
                    <div class="dropdown me-2">
                        <button class="btn btn-warning dropdown-toggle" type="button" id="viewByButton"
                                data-bs-toggle="dropdown" aria-expanded="false">Filter By
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="viewByButton">
                            <li><a class="dropdown-item" href="{{ url_for('ca.list_members', list='verified') }}">Verified Members</a></li>
                            <li><a class="dropdown-item" href="{{ url_for('ca.list_members', list='pending') }}">Pending Members</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="{{ url_for('ca.list_members', list='active') }}">Active Members</a></li>
                            <li><a class="dropdown-item" href="{{ url_for('ca.list_members', list='inactive') }}">Inactive Members</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="{{ url_for('ca.list_members', list='admin') }}">Admin Members</a></li>
                            <li><a class="dropdown-item" href="{{ url_for('ca.list_members', list='ca_admin') }}">CA Admin Members</a></li>
                            <li><a class="dropdown-item" href="{{ url_for('ca.list_members', list='basic') }}">Basic Members</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <table class="table table-hover">
                <thead>
                <tr>
                    <th scope="col">First Name</th>
                    <th scope="col">Last Name</th>
                    <th scope="col">Email</th>
                    <th scope="col">Telephone</th>
                    <th scope="col">Role</th>
                    <th scope="col">Status</th>
                </tr>
                </thead>
                {% for member in members %}
                    <tbody>
                    <tr id="{{ member['id'] }}">
                        <td>{{ member['first_name'] }}</td>
                        <td>{{ member['last_name'] }}</td>
                        <td>{{ member['email'] }}</td>
                        <td>{{ member['telephone'] }}</td>
                        <td>{{ member['role'] }}</td>
                        <td>
                            {% if member['is_active'] %}
                                Active
                            {% else %}
                                Inactive
                            {% endif %}
                        </td>
                    </tr>
                    </tbody>
                {% endfor %}
            </table>
        </main>
    </div>
{% endblock %}
